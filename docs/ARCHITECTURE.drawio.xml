<?xml version="1.0" encoding="UTF-8"?>
<mxfile host="app.diagrams.net" modified="2026-02-16T00:00:00.000Z" agent="NossoDireito Architecture" version="21.0.0">
  <diagram name="NossoDireito v1.14.4 â€” Arquitetura Completa" id="architecture">
    <mxGraphModel dx="1522" dy="894" grid="1" gridSize="10" guides="1" tooltips="1" connect="1" arrows="1" fold="1" page="1" pageScale="1" pageWidth="1269" pageHeight="1027" math="0" shadow="0">
      <root>
        <mxCell id="0" />
        <mxCell id="1" parent="0" />

        <!-- CAMADA 1: USUÃRIO / APRESENTAÃ‡ÃƒO -->
        <mxCell id="user-layer" value="CAMADA DE APRESENTAÃ‡ÃƒO" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#dae8fc;strokeColor=#6c8ebf;fontSize=18;fontStyle=1;verticalAlign=top;" vertex="1" parent="1">
          <mxGeometry x="40" y="40" width="1180" height="150" as="geometry" />
        </mxCell>

        <mxCell id="browser" value="Navegador Web&#xa;(Chrome, Firefox, Safari, Edge)" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#1ba1e2;fontColor=#ffffff;strokeColor=#006EAF;fontSize=14;" vertex="1" parent="1">
          <mxGeometry x="60" y="90" width="200" height="80" as="geometry" />
        </mxCell>

        <mxCell id="pwa" value="PWA&#xa;(InstalÃ¡vel offline)" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#0078d4;fontColor=#ffffff;strokeColor=#005a9e;fontSize=14;" vertex="1" parent="1">
          <mxGeometry x="280" y="90" width="170" height="80" as="geometry" />
        </mxCell>

        <mxCell id="vlibras" value="VLibras&#xa;(Acessibilidade)" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#60a917;fontColor=#ffffff;strokeColor=#2D7600;fontSize=14;" vertex="1" parent="1">
          <mxGeometry x="470" y="90" width="170" height="80" as="geometry" />
        </mxCell>

        <mxCell id="aria" value="ARIA + eMAG&#xa;(WCAG 2.1 AA)" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#60a917;fontColor=#ffffff;strokeColor=#2D7600;fontSize=14;" vertex="1" parent="1">
          <mxGeometry x="660" y="90" width="170" height="80" as="geometry" />
        </mxCell>

        <mxCell id="tts" value="TTS&#xa;(Leitura em Voz)" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#60a917;fontColor=#ffffff;strokeColor=#2D7600;fontSize=14;" vertex="1" parent="1">
          <mxGeometry x="850" y="90" width="160" height="80" as="geometry" />
        </mxCell>

        <mxCell id="responsive" value="Responsivo&#xa;(Mobile-first)" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#1ba1e2;fontColor=#ffffff;strokeColor=#006EAF;fontSize=14;" vertex="1" parent="1">
          <mxGeometry x="1030" y="90" width="160" height="80" as="geometry" />
        </mxCell>

        <!-- CAMADA 2: APLICAÃ‡ÃƒO -->
        <mxCell id="app-layer" value="CAMADA DE APLICAÃ‡ÃƒO" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#fff2cc;strokeColor=#d6b656;fontSize=18;fontStyle=1;verticalAlign=top;" vertex="1" parent="1">
          <mxGeometry x="40" y="230" width="1180" height="180" as="geometry" />
        </mxCell>

        <mxCell id="index-html" value="index.html&#xa;(SPA)" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#e1d5e7;strokeColor=#9673a6;fontSize=14;fontStyle=1;" vertex="1" parent="1">
          <mxGeometry x="60" y="280" width="140" height="60" as="geometry" />
        </mxCell>

        <mxCell id="app-js" value="app.js&#xa;(LÃ³gica Principal)" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#f0a30a;fontColor=#000000;strokeColor=#BD7000;fontSize=14;" vertex="1" parent="1">
          <mxGeometry x="220" y="280" width="160" height="60" as="geometry" />
        </mxCell>

        <mxCell id="sw-js" value="sw.js&#xa;(Service Worker)" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#d80073;fontColor=#ffffff;strokeColor=#A50040;fontSize=14;" vertex="1" parent="1">
          <mxGeometry x="400" y="280" width="160" height="60" as="geometry" />
        </mxCell>

        <mxCell id="styles-css" value="styles.css&#xa;(Estilos)" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#0050ef;fontColor=#ffffff;strokeColor=#001DBC;fontSize=14;" vertex="1" parent="1">
          <mxGeometry x="580" y="280" width="140" height="60" as="geometry" />
        </mxCell>

        <mxCell id="manifest" value="manifest.json&#xa;(PWA Config)" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#6a00ff;fontColor=#ffffff;strokeColor=#3700CC;fontSize=14;" vertex="1" parent="1">
          <mxGeometry x="740" y="280" width="140" height="60" as="geometry" />
        </mxCell>

        <mxCell id="server-js" value="server.js&#xa;(Node.js 22 LTS)" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#647687;fontColor=#ffffff;strokeColor=#314354;fontSize=14;fontStyle=1;" vertex="1" parent="1">
          <mxGeometry x="900" y="280" width="160" height="60" as="geometry" />
        </mxCell>

        <!-- Matching Engine -->
        <mxCell id="matching" value="Matching Engine&#xa;(Busca SemÃ¢ntica â€” 609+ keywords, CID-10/11, sinÃ´nimos)" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#a20025;fontColor=#ffffff;strokeColor=#6F0000;fontSize=13;fontStyle=1;" vertex="1" parent="1">
          <mxGeometry x="220" y="360" width="460" height="40" as="geometry" />
        </mxCell>

        <!-- CAMADA 3: DADOS -->
        <mxCell id="data-layer" value="CAMADA DE DADOS" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#d5e8d4;strokeColor=#82b366;fontSize=18;fontStyle=1;verticalAlign=top;" vertex="1" parent="1">
          <mxGeometry x="40" y="450" width="1180" height="160" as="geometry" />
        </mxCell>

        <mxCell id="direitos-json" value="direitos.json&#xa;(30 Categorias + 27 UFs&#xa;+ IPVA inline)" style="shape=cylinder3;whiteSpace=wrap;html=1;boundedLbl=1;backgroundOutline=1;size=15;fillColor=#60a917;fontColor=#ffffff;strokeColor=#2D7600;fontSize=13;fontStyle=1;" vertex="1" parent="1">
          <mxGeometry x="60" y="500" width="200" height="90" as="geometry" />
        </mxCell>

        <mxCell id="matching-json" value="matching_engine.json&#xa;(Keywords + Weights)" style="shape=cylinder3;whiteSpace=wrap;html=1;boundedLbl=1;backgroundOutline=1;size=15;fillColor=#1ba1e2;fontColor=#ffffff;strokeColor=#006EAF;fontSize=13;fontStyle=1;" vertex="1" parent="1">
          <mxGeometry x="290" y="500" width="200" height="90" as="geometry" />
        </mxCell>

        <mxCell id="dicionario-json" value="dicionario_pcd.json&#xa;(GlossÃ¡rio PcD)" style="shape=cylinder3;whiteSpace=wrap;html=1;boundedLbl=1;backgroundOutline=1;size=15;fillColor=#008a00;fontColor=#ffffff;strokeColor=#005700;fontSize=13;fontStyle=1;" vertex="1" parent="1">
          <mxGeometry x="520" y="500" width="190" height="90" as="geometry" />
        </mxCell>

        <mxCell id="cache" value="Cache Local&#xa;(IndexedDB / LocalStorage)" style="shape=cylinder3;whiteSpace=wrap;html=1;boundedLbl=1;backgroundOutline=1;size=15;fillColor=#6a00ff;fontColor=#ffffff;strokeColor=#3700CC;fontSize=13;" vertex="1" parent="1">
          <mxGeometry x="740" y="500" width="200" height="90" as="geometry" />
        </mxCell>

        <mxCell id="sitemap" value="sitemap.xml&#xa;robots.txt&#xa;schema.json&#xa;(SEO + ValidaÃ§Ã£o)" style="shape=note;whiteSpace=wrap;html=1;backgroundOutline=1;darkOpacity=0.05;fillColor=#f0a30a;strokeColor=#BD7000;fontSize=11;" vertex="1" parent="1">
          <mxGeometry x="970" y="500" width="130" height="90" as="geometry" />
        </mxCell>

        <!-- CAMADA 4: VALIDAÃ‡ÃƒO E QUALIDADE -->
        <mxCell id="validation-layer" value="CAMADA DE VALIDAÃ‡ÃƒO E QUALIDADE (13 scripts)" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#ffe6cc;strokeColor=#d79b00;fontSize=18;fontStyle=1;verticalAlign=top;" vertex="1" parent="1">
          <mxGeometry x="40" y="650" width="1180" height="150" as="geometry" />
        </mxCell>

        <mxCell id="validate-all" value="validate_all.py&#xa;(Orquestrador)" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#a20025;fontColor=#ffffff;strokeColor=#6F0000;fontSize=11;fontStyle=1;" vertex="1" parent="1">
          <mxGeometry x="60" y="700" width="140" height="50" as="geometry" />
        </mxCell>

        <mxCell id="validate-content" value="validate_content.py&#xa;(Dados + CÃ³digo)" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#76608a;fontColor=#ffffff;strokeColor=#432D57;fontSize=11;fontStyle=1;" vertex="1" parent="1">
          <mxGeometry x="220" y="700" width="140" height="50" as="geometry" />
        </mxCell>

        <mxCell id="validate-schema" value="validate_schema.py&#xa;(JSON Schema)" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#76608a;fontColor=#ffffff;strokeColor=#432D57;fontSize=11;fontStyle=1;" vertex="1" parent="1">
          <mxGeometry x="380" y="700" width="140" height="50" as="geometry" />
        </mxCell>

        <mxCell id="validate-sources" value="validate_sources.py&#xa;(HTTP Status)" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#76608a;fontColor=#ffffff;strokeColor=#432D57;fontSize=11;fontStyle=1;" vertex="1" parent="1">
          <mxGeometry x="540" y="700" width="140" height="50" as="geometry" />
        </mxCell>

        <mxCell id="validate-legal" value="validate_legal.py&#xa;(Artigos Oficiais)" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#76608a;fontColor=#ffffff;strokeColor=#432D57;fontSize=11;fontStyle=1;" vertex="1" parent="1">
          <mxGeometry x="700" y="700" width="140" height="50" as="geometry" />
        </mxCell>

        <mxCell id="master-compliance" value="master_compliance.py&#xa;(100% Score)" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#a20025;fontColor=#ffffff;strokeColor=#6F0000;fontSize=11;fontStyle=1;" vertex="1" parent="1">
          <mxGeometry x="860" y="700" width="150" height="50" as="geometry" />
        </mxCell>

        <mxCell id="analise360" value="analise360.py&#xa;(AvaliaÃ§Ã£o 360Â°)" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#76608a;fontColor=#ffffff;strokeColor=#432D57;fontSize=11;fontStyle=1;" vertex="1" parent="1">
          <mxGeometry x="1030" y="700" width="140" height="50" as="geometry" />
        </mxCell>

        <!-- Row 2 of validation -->
        <mxCell id="test-e2e" value="test_e2e_playwright.py&#xa;(137 Playwright E2E)" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#76608a;fontColor=#ffffff;strokeColor=#432D57;fontSize=11;fontStyle=1;" vertex="1" parent="1">
          <mxGeometry x="60" y="760" width="160" height="30" as="geometry" />
        </mxCell>

        <mxCell id="test-comprehensive" value="test_comprehensive*.py&#xa;(709 pytest)" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#76608a;fontColor=#ffffff;strokeColor=#432D57;fontSize=11;fontStyle=1;" vertex="1" parent="1">
          <mxGeometry x="240" y="760" width="160" height="30" as="geometry" />
        </mxCell>

        <mxCell id="test-browser" value="test_e2e_playwright.py&#xa;(132 Playwright)" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#76608a;fontColor=#ffffff;strokeColor=#432D57;fontSize=11;fontStyle=1;" vertex="1" parent="1">
          <mxGeometry x="420" y="760" width="160" height="30" as="geometry" />
        </mxCell>

        <!-- CAMADA 5: INFRAESTRUTURA -->
        <mxCell id="infra-layer" value="CAMADA DE INFRAESTRUTURA (IaC)" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#f8cecc;strokeColor=#b85450;fontSize=18;fontStyle=1;verticalAlign=top;" vertex="1" parent="1">
          <mxGeometry x="40" y="840" width="1180" height="140" as="geometry" />
        </mxCell>

        <mxCell id="terraform" value="Terraform&#xa;(main.tf, providers.tf)" style="shape=image;html=1;verticalAlign=top;verticalLabelPosition=bottom;labelBackgroundColor=#ffffff;imageAspect=0;aspect=fixed;image=https://cdn.worldvectorlogo.com/logos/terraform-enterprise.svg;fontSize=12;fontStyle=1;" vertex="1" parent="1">
          <mxGeometry x="80" y="890" width="100" height="70" as="geometry" />
        </mxCell>

        <mxCell id="azure-storage" value="Azure App Service&#xa;(Node.js 22 LTS)" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#0078d4;fontColor=#ffffff;strokeColor=#005a9e;fontSize=12;fontStyle=1;" vertex="1" parent="1">
          <mxGeometry x="240" y="890" width="180" height="70" as="geometry" />
        </mxCell>

        <mxCell id="azure-cdn" value="Azure CDN&#xa;(DistribuiÃ§Ã£o Global)" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#0078d4;fontColor=#ffffff;strokeColor=#005a9e;fontSize=12;fontStyle=1;" vertex="1" parent="1">
          <mxGeometry x="460" y="890" width="180" height="70" as="geometry" />
        </mxCell>

        <mxCell id="azure-keyvault" value="Azure Key Vault&#xa;(Certificado SSL)" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#0078d4;fontColor=#ffffff;strokeColor=#005a9e;fontSize=12;fontStyle=1;" vertex="1" parent="1">
          <mxGeometry x="680" y="890" width="160" height="70" as="geometry" />
        </mxCell>

        <mxCell id="github-actions" value="GitHub Actions&#xa;(CI/CD quality-gate)" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#000000;fontColor=#ffffff;strokeColor=#3700CC;fontSize=12;fontStyle=1;" vertex="1" parent="1">
          <mxGeometry x="880" y="890" width="160" height="70" as="geometry" />
        </mxCell>

        <mxCell id="python-runtime" value="Python 3.11+&#xa;(ValidaÃ§Ã£o)" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#3776ab;fontColor=#ffffff;strokeColor=#1a5490;fontSize=12;fontStyle=1;" vertex="1" parent="1">
          <mxGeometry x="1080" y="890" width="120" height="70" as="geometry" />
        </mxCell>

        <!-- CONEXÃ•ES -->
        <mxCell id="arrow1" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;strokeWidth=2;fillColor=#dae8fc;strokeColor=#6c8ebf;" edge="1" parent="1" source="browser" target="index-html">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>

        <mxCell id="arrow2" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;strokeWidth=2;fillColor=#fff2cc;strokeColor=#d6b656;" edge="1" parent="1" source="app-js" target="matching">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>

        <mxCell id="arrow3" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;strokeWidth=2;fillColor=#d5e8d4;strokeColor=#82b366;" edge="1" parent="1" source="matching" target="direitos-json">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>

        <mxCell id="arrow4" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;strokeWidth=2;fillColor=#d5e8d4;strokeColor=#82b366;" edge="1" parent="1" source="matching" target="matching-json">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>

        <mxCell id="arrow4b" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;strokeWidth=2;fillColor=#d5e8d4;strokeColor=#82b366;" edge="1" parent="1" source="app-js" target="dicionario-json">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>

        <mxCell id="arrow5" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;strokeWidth=2;fillColor=#ffe6cc;strokeColor=#d79b00;dashed=1;" edge="1" parent="1" source="validate-content" target="direitos-json">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>

        <mxCell id="arrow6" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;strokeWidth=2;fillColor=#f8cecc;strokeColor=#b85450;dashed=1;" edge="1" parent="1" source="terraform" target="azure-storage">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>

        <mxCell id="arrow7" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;strokeWidth=2;fillColor=#647687;strokeColor=#314354;" edge="1" parent="1" source="server-js" target="direitos-json">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>

        <mxCell id="legend" value="LEGENDA v1.14.4&#xa;â”€â”€â”€ Fluxo de Dados&#xa;â•Œâ•Œâ•Œ ValidaÃ§Ã£o&#xa;&#xa;ðŸ”µ Azure / Infra&#xa;ðŸŸ¢ Dados (3 JSON)&#xa;ðŸŸ¡ AplicaÃ§Ã£o SPA&#xa;ðŸ”´ ValidaÃ§Ã£o / Compliance&#xa;ðŸŸ£ Testes (841 total)" style="rounded=0;whiteSpace=wrap;html=1;fillColor=#f5f5f5;fontColor=#333333;strokeColor=#666666;align=left;fontSize=10;verticalAlign=top;" vertex="1" parent="1">
          <mxGeometry x="1280" y="40" width="170" height="180" as="geometry" />
        </mxCell>

      </root>
    </mxGraphModel>
  </diagram>
</mxfile>
